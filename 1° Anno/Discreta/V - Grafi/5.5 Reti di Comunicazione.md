#### Definiamo
Una #rete_di_comunicazione è una terna $(R, I, O)$ dove $R=(V,A)$ è un digrafo, $I\subseteq V$, $O\subseteq V$, $I\ \cap O=\varnothing$ e $|I|=|O|=N$. Gli elementi di I si dicono #nodi_di_input e gli elementi di O si dicono #nodi_di_output.

#### Definiamo
Data $(R,I,O)$ una rete di comunicazione, un #problema_di_smistamento per $(R,I,O)$ una **permutazione** $\pi\in S_{n}$

#### Definiamo
Dato $\pi\in S_{n}$, uno #smistamento per $\pi$ una **sequenza** $(P_{i},\ \dots,\ P_{n})$ dove $P_{j}$ è un **cammino diretto** che va da $i_{j}$ a $o_{\pi(j)}$, $\forall\ j=1,\ \dots,\ N$.
Dove $I\stackrel{def}=\{i_{1},\ \dots,\ i_{n}\}$ e $O\stackrel{def}=\{o_{1},\ \dots,\ o_{n}\}$

#### Definiamo
Data $(P_{1},\ \dots,\ P_{n})$ un tale **smistamento**, la #latenza di $(P_{1},\ \dots,\ P_{n})$ è:$$max\{l(P_{j}):j=1,\ \dots,\ N\}$$
#### Definiamo
La #congestione di $(P_{1},\ \dots,\ P_{n})$ è:$$c(P_{1},\ \dots,\ P_{n})\stackrel{def}=\underset{x\in V}{max}\{|j\in N;x\in P_{j}|\}$$
#### Definiamo
Siano $x,y\in V$, la #distanza da x a y è la lunghezza minima di un cammino diretto da x a y, scritto $d(x,y)$ (Se y non è raggiungibile da x si pone $d(x,y)\stackrel{def}=+\infty$).

#### Definiamo
Il #diametro di $(R,I,O)$ è:$$max\{d(i_{j},o_{k}):i\leq j,\ k \leq N\}$$
#### Definiamo
La #congestione di $(R,I,O)$ è:$$\underset{\pi\in S_{n}}{max}\{\underset{\text{smistamento per }\pi}{\underset{(P_{1},\ \dots,\ P_{n})}{min}}\{c(P_{1},\ \dots,\ P_{n})\}\}$$scritto $c(R,I,O)$
###### Esempio Generale
Sia $(R,I,O)$
![[5_5_1.png|]]

Sia $\pi = 4321$, sia ($P_{1},\dots,P_{N}$) uno smistamento per $\pi$ allora $$\begin{array}{}
P_{1}\text{ va da } i_{1}\text{ a }o_{4}\quad (\pi(1)=4) \\
P_{2}\text{ va da } i_{2}\text{ a }o_{3}\quad (\pi(2)=3) \\
P_{3}\text{ va da } i_{3}\text{ a }o_{2}\quad (\pi(3)=2) \\
P_{4}\text{ va da } i_{4}\text{ a }o_{1}\quad (\pi(4)=1) \\
\implies x\in P_{1},x\in P_{2},x\in P_{3},x\in P_{4}\implies c(P_{1},\dots,P_{4})=4\implies c(R,I,O)=4
\end{array}$$
###### Esempio Generale
![[5_5_2.png]]


###### Esempio Generale

#### Osserviamo
c'e' un solo sentiero diretto da qualsiasi nodo di input a qualsiasi nodo di output
###### Esempio generale
Stadi da affrontare k=4
$i_{1001}=(1,0,0,1,1)\to(1,0,0,1,2)\to(1,1,0,1,3)\to(1,1,1,1,4)\to o_{1110}=(1,1,1,0,5)$

#### Teorema 5.5.2
Sia $k\in\textsf{I\kern-0.1ex P}$ allora la congestione della #farfalla è $$c(f_{k})=\begin{cases}
    2^{\frac{k}{2}}& \text{se k è pari} \\
    2^{\frac{k-1}{2}}& \text{se k è dispari}
\end{cases}$$
##### Dimostrazione
Sia $\pi \in S_{N}\quad (N=2^k)$ e sia  $(P_{1},\dots,P_{N})$ uno smistamento per $\pi$
Sia $$x\stackrel{def}=(E_{1},\dots,E_{k},i)\in V$$
Sia $P_{j}$ tale che $x\in P_{j}$ allora il nodo di output $P_{j}$ è  della forma $$(E_{1},\dots,E_{i-1},x_{i},\dots,x_{k},k+1)\implies 2^{k-i+1} \text{ possibiltà}$$
Similmente il nodo di input di $P_j$ è della forma $$(x_{1},\dots,x_{i-1},E_{i},\dots,E_{k},1)\implies 2^{i-1} \text{ possibilità}$$
pertanto ci sono $$min\{2^{i-1},2^{k-i+1}\}$$
possibilità per $P_j$ ,ma $$min\{2^{i-1},2^{k-i+1}\}\leq \begin{cases}
    2^{\frac{k}{2}}& \text{se k è pari} \\
	2^{\frac{k-1}{2}}& \text{se k è dispari}
\end{cases}$$
$$\left(\underset{1\leq i\leq k}{min}\{i-1,k-i+1\}\leq \begin{cases}
    \frac{k}{2}\\
	\frac{k-1}{2}
\end{cases}\right)$$
concludendo
(da fare)
$$\begin{array}{} \\
\text{rete}&|&\#\text{ di nodi}&|&\#\text{ di terminali}&|&\text{congestione}&|&\text{grandezza dei switch} \\
- & + & - & + & - & + & - & | & -\\
G_{N} & | & N(N+2) & | & N & | & 2 & | & 2\times2 \\
- & + & - & + & - & + & - & | & -\\
F_{k} & | &  N(\log_{2}(?)) & | & \begin{array}{}
    N \\
    (2k)
\end{array}&|&\begin{array}{}
    \sqrt{ N }\quad\text{se k è pari} \\
    \sqrt{ \frac{N}{2} }\quad\text{se k è dispari}
\end{array} & | & 2\times 2 \\
- & + & - & + & - & + & - & | & -\\
\end{array}$$

[[5.6 Orari Paralleli|Prossimo Capitolo]] 
