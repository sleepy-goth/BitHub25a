Ricordiamo che [[3.2 Propriet√† Fondamentali |3.2]] $$|A\cup B|=|A|+|B|-|A\cap B|\quad\quad\text{(A,B insiemi finiti)}$$
Siano A,B,C insiemi finiti allora $$\begin{array}{}
|A\cup B\cup C|=|A\cup B|+|C|-|(A\cup B)\cap C|=|A|+|B|+|A\cap B|+|C|-|(A\cap C)\cup(B\cap C)|=\\\\
|A|+|B|+|C|-|A\cap B|-(|A\cap C|+|B\cap C|-|A\cap B\cap C|)=\\\\\
=|A|+|B|+|C|-|A\cap B|-|A\cap C|-|B\cap C|+|A\cap B\cap C|
\end{array}$$
allo stesso modo si ottiene quanto segue.
Siano $A_1,A_2,...,A_n$ insiemi finiti, dato $T\subseteq[n],\ T=\{t_1,...,t_r\}$ poniamo: $$\begin{array}{}
A_T=A_{t_1}\cap A_{t_2}\cap ...\cap A_{t_r}\\\\
(e.g.A_{\{2,4,5\}}=A_2\cap A_4\cap A_5)
\end{array}$$
#### Teorema 3.4.1 (Principio di inclusione-esclusione)
Siano $n\in\textsf{I\kern-0.1ex P}$ e $A_1,...,A_n$ insiemi finiti, allora: $$|A_1\cup...\cup A_n|=\displaystyle\sum_{\begin{array}{}
	T\subseteq[n]\\
	T\not=\varnothing 
\end{array}}^{}((-1)^{|T|-1}\cdot|A_T|)$$
#### Teorema
Sia $n\in\textsf{I\kern-0.1ex P}$ e $n=P_1^{a_1}\cdot...\cdot P_n^{a_r}$ 
la fattorizzazione di n in numeri primi 
(=$P_1,...,P_r,a_1,...,a_r \in\textsf{I\kern-0.1ex P},\ P_1,...,P_r\text{ primi distinti}$) 
allora:$$\Phi(n)=n(1-\frac{1}{P_1})\cdot...\cdot(1-\frac{P}{P_r})$$
###### Dimostrazione
Notiamo che $\Phi(n)=n-|\{1\leq i\leq n:(n,i)\geq2\}|$
poniamo $$\begin{array}{}
	A_1=\{1\leq i\leq n:P_1|i\}\quad\quad\quad\quad A_2=\{1\leq i\leq n:P_2|i\}\\
	.....\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad A_r=\{1\leq i\leq n:P_r|i\}
\end{array}$$
ma allora $$\{1\leq i\leq n:(n,i)\geq 2\}=A_1\cup...\cup A_r$$
(se i $\in A_j\implies P_j|i\ e\ P_j|n\implies(n,i)\geq 2$ )
(viceversa se $(n,i)\geq 1\implies\ \ \exists \text{ q primo t.c. q|n e q|i}\implies q=P_j\text{per qualche }P_j\ e\ P_j|i$)
quindi per [[3.4 Il Principio di Inclusione-Esclusione#**Teorema 3.4.1 (Principio di inclusione-esclusione)**|3.4.1]] $$|A_1\cup...\cup A_r|=\displaystyle\sum_{\substack{
   T\subseteq[n]\\
   T\not=\varnothing
  }}(-1)^{|T|-1}|A_T|$$
  Sia T=$\{t_1,...,t_k\}$ allora $$\begin{array}{}
  A_T=A_{t_1}\cap...\cap A_{t_k}=\{1\leq i\leq n:P_{t_1}|i,...,P_{t_k}|i\}=\\\\
  =\{1\leq i\leq n:(P_{t_1}\cdot...\cdot P_{t_k})|i\}=\\\\
  =\{P_{t_1}\cdot...\cdot P_{t_k},2\cdot(P_{t_1}\cdot...\cdot P_{t_k}),...,\frac{n}{(P_{t_1}\cdot...\cdot P_{t_k})}P_{t_1}\cdot...\cdot P_{t_k}\}\implies\\\\
  \implies|A_T|=\frac{n}{(P_{t_1}\cdot...\cdot P_{t_k})}
  \end{array}$$
pertanto  $$\begin{array}{}
|A_1,\cup...\cup A_r|=\displaystyle\sum_{\substack{
   T\subseteq[n]\\
   T\not=\varnothing\\
   T=\{t_1,...,t_k\}
  }}((-1)^{|T|-1}\cdot\frac{n}{P_{t_1}\cdot...\cdot P_{t_k}})=\\\\
  -n\cdot(\displaystyle\sum_{\substack{
   T\subseteq[n]\\
   T=\{t_1,...,t_k\}
  }}(-1)^{|T|}\cdot\frac{1}{P_{t_1}\cdot...\cdot P_{t_k}}-1)=\\\\
  =-n((1-\frac{1}{P_1})(1-\frac{1}{P_2})\cdot...\cdot(1-\frac{1}{P_n}))\quad\Box
\end{array}$$
[[3.5 Composizioni|Prossimo Capitolo]]